!function(t,e){"function"==typeof define&&define.amd?define(e):(t.wfQuery=e(),window.$=window.$||t.wfQuery)}(this,function(){var t=window.document,e=function(t,n){return new e.fn.init(t,n)};e.fn=e.prototype=new Array,e.fn.constructor=e;var n=e.fn.init=function(r,i){i=i||t;var o=Object.prototype.toString.call(r);if(!r)return this;if(r.constructor===e)return r;if("[object String]"===o){var a=document.createElement("WF");return/^\s*[\<]/.test(r)?(a.innerHTML=r,new n(a.children)):new n(i.querySelectorAll(r))}if(/\[object\s(HTML|XML)/.test(o)&&r.nodeType||"[object global]"===o)return this.length=1,this[0]=r,this;if("[object HTMLCollection]"===o||"[object NodeList]"===o||"[object Array]"===o){this.length=r.length;for(var s=0;s<r.length;s++)this[s]=r[s];return this}e.isFunction(r)&&r(e)};n.prototype=e.fn,e.extend=e.fn.extend=function(){var t,n,r,i,o,a,s=arguments[0]||{},c=1,u=arguments.length,f=!1;for("boolean"==typeof s&&(f=s,s=arguments[c]||{},c++),"object"==typeof s||e.isFunction(s)||(s={}),c===u&&(s=this,c--);u>c;c++)if(null!=(t=arguments[c]))for(n in t)r=s[n],i=t[n],s!==i&&(f&&i&&(e.isPlainObject(i)||(o=e.isArray(i)))?(o?(o=!1,a=r&&e.isArray(r)?r:[]):a=r&&e.isPlainObject(r)?r:{},s[n]=e.extend(f,a,i)):void 0!==i&&(s[n]=i));return s},e.extend({isFunction:function(t){return"function"==typeof t},isArray:Array.isArray,isPlainObject:function(t){return"object"!=typeof t||t.nodeType||t===t.window?!1:t.constructor&&!Object.prototype.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},obj2array:function(t){var n=[];for(var r in t)e.isArray(t[r])?t[r].forEach(function(t){n.push({name:r,value:t})}):n.push({name:r,value:t[r]});return n},array2obj:function(t){var n={};return t.forEach(function(t){e.isArray(n[t.name])?n[t.name].push(t.value):n[t.name]="string"==typeof n[t.name]?[n[t.name],t.value]:t.value}),n},param:function(t){var n;if(e.isArray(t))n=t;else{if("object"!=typeof t)return t;n=e.obj2array(t)}return n.map(function(t){return"undefined"==typeof t.value?"":encodeURIComponent(t.name)+"="+encodeURIComponent(t.value)}).join("&").replace(/%20/g,"+")}}),e.fn.extend({serializeArray:function(){var t=this[0],e=[];return t&&"FORM"===t.tagName.toUpperCase()&&[].map.call(t.elements,function(t){if(t.name&&!t.disabled)switch(t.type){case"radio":case"checkbox":if(!t.checked)return;case"input":default:e.push({name:t.name,value:t.value})}}),e},serialize:function(){return e.param(this.serializeArray())}}),e.fn.extend({each:function(t){return this.forEach(function(e,n){t.call(e,n)}),this},cross_each:function(t,n){var t=e(t);return this.each(function(){var e=this;t.forEach(function(t){n(e,t)})})},_attr:function(t,e,n,r){var i=this;if(this.length){if("string"==typeof t&&"undefined"!=typeof e){var o={};return o[t]=e,this._attr(o,null,n,r)}if("object"==typeof t){for(var a in t)!function(t,e){i.each(function(){r.call(this,t,e)})}(a,t[a]);return this}return n.call(this[0],t)}return null},_get_set:function(t,e){return this.length?"undefined"==typeof e?this[0][t]:this.each(function(){this[t]=e}):void 0}});var r=document.createElement("p"),i=["matchesSelector","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector"].filter(function(t){return r[t]})[0];e.fn.extend({first:function(){return e(this[0])},eq:function(t){return e(this[(this.length+t)%this.length])},last:function(){return e(this[this.length-1])},next:function(){return e(this[0]?this[0].nextElementSibling:null)},prev:function(){return e(this[0]?this[0].previousElementSibling:null)},parent:function(){return e(this[0]?this[0].parentNode:null)},parents:function(t,n){var r=[],i=this[0];for(n=n||document;i&&i!=n&&(i=i.parentNode);)r.push(i);return e(r).filter(t)},filter:function(t){var n=[];return t?("function"==typeof t?n=[].filter.call(this,t):this.each(function(){var e=this;e[i]&&e[i](t)&&n.push(e)}),e(n)):this},not:function(t){var n=this;return e([].filter.call(n,function(n){var r;try{r=n[i]&&n[i](t)}catch(o){r=n===e(t)[0]}return!r}))},siblings:function(t){return this.parent().children(t).not(this)},nextAll:function(t){var n=[];return this.each(function(){var t=$(this).parent().children(),e=t.indexOf(this);n=n.concat(t.slice(e+1))}),e(n).filter(t)},find:function(t){var n=[];return this.each(function(){n=[].concat.apply(n,e(this.querySelectorAll(t)))}),e(n)},children:function(t){var n=[];return this.each(function(){var t=this,r=t.children;r||(r=[].filter.call(t.childNodes,function(t){return!!t.tagName})),n=[].concat.apply(n,e(r))}),e(n).filter(t)}}),e.fn.extend({_appender:function(){return this.length&&this[0].parentNode&&"WF"===this[0].parentNode.tagName?this.clone():this},append:function(t){return this.cross_each(e(t)._appender(),function(t,e){t.appendChild(e)})},prepend:function(t){return this.cross_each(e(t)._appender(),function(t,e){t.insertBefore(e,t.firstChild)})},before:function(t){return this.cross_each(e(t)._appender(),function(t,e){t.parentNode.insertBefore(e,t)})},after:function(t){return this.cross_each(e(t)._appender(),function(t,e){t.parentNode.insertBefore(e,t.nextSibling)})},empty:function(){return this.each(function(){this.textContent=""})},remove:function(){return this.each(function(){this.parentNode.removeChild(this)})},clone:function(){return e(this.map(function(t){return t.cloneNode?t.cloneNode(!0):t}))}});var o={},a=0;return e.fn.extend({attr:function(t,e){return this._attr(t,e,function(t){return t?this.getAttribute(t):this.attributes},function(t,e){"undefined"==typeof e?this.removeAttribute(t):this.setAttribute(t,e)})},data:function(t,n){return this._attr(t,n,function(t){var n,r=this.wfQueryCacheKey;return r?n=o[r]:(this.wfQueryCacheKey=r="wf_"+a++,n=o[r]=e.array2obj([].filter.call(this.attributes,function(t){return!!t.name.match(/data-/)}).map(function(t){var e=t.value;try{e=new Function("return "+e)()}catch(n){}return{name:t.name.split("-")[1],value:e}}))),t?n[t]:n},function(t,e){var n=this.wfQueryCacheKey,r=o[n]||{};"undefined"===e?delete r[t]:r[t]=e})},text:function(t){return this._get_set("textContent",t)},html:function(t){return this._get_set("innerHTML",t)},val:function(t){return this._get_set("value",t)},addClass:function(t){return this.each(function(){this.classList.add(t)})},removeClass:function(t){return this.each(function(){this.classList.remove(t)})},hasClass:function(t){return!!this.filter("."+t).length},toggleClass:function(t){return this.each(function(){var e=this.classList;e.contains(t)?e.remove(t):e.add(t)})}}),e.fn.extend({css:function(t,e){return this._attr(t,e,function(t){return t?window.getComputedStyle(this)[t]:this.style},function(t,e){/width|height|left|right|top|bottom|size|radius/i.test(t)&&/^[\d\.]+$/.test(e)&&(e+="px"),this.style[t]=e})},show:function(){return this.css({display:""})},hide:function(){return this.css({display:"none"})},toggle:function(){return this.each(function(){var t=this;t.style.display="none"===window.getComputedStyle(t).display?"":"none"})}}),e.fn.extend({on:function(t,n,r,i){var o=(t+"").match(/\w+/g)||[];return o.length?("function"==typeof n&&(r=n,n=null),this.cross_each(o,function(t,o){t["wf_"+o]=t["wf_"+o]||[],t["wf_"+o].push(r),t.addEventListener(o,n?function(t){var o=e(t.target),a=o.parents(n);o.filter(n).length?r.call(o,t):a.length?r.call(a,t):"function"==typeof i&&i.call(this,t)}:r,!1)})):this},off:function(t){return this.each(function(){delete this["wf_"+t],this.removeEventListener(t)})},trigger:function(t){var e=arguments;return this.each(function(){var n=this,r=n["wf_"+t]||[];n[t]?n[t]():r.forEach(function(t){t.apply(n,e)})})}}),e.extend({ajax:function(t){var n=e.extend({async:!0,timeout:3e4,cache:!0,url:null,data:{},type:"GET",dataType:"json",form:null,success:function(){},error:function(){},onprocess:function(){}},t);if(!n.url)throw console.error(n),new Error("ajax( url /*required*/ )");if("JSONP"===n.dataType.toUpperCase())return e.jsonp(n.url,n.data,n.success);var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState){if(200!=r.status)return n.error(r);switch(n.dataType.toUpperCase()){case"JSON":try{n.success(JSON.parse(r.responseText))}catch(t){return n.error(r,t)}break;case"XML":case"HTML":r.responseXML?n.success(r.responseXML):n.error(r);break;default:n.success(r.responseText)}}};var i,o,a=n.type.toUpperCase();n.form&&(o=$(n.form)[0])&&"FORM"===o.tagName.toUpperCase()?("POST"===a&&r.upload.addEventListener("progress",n.onprocess),i=new FormData(o)):i=e.param(n.data),r.open(a,n.url,n.async),n.cache||r.setRequestHeader("Cache-Control","no-cache"),r.send(i)},jsonp:function(n,r,i){e.isFunction(r)&&(i=r,r={});var o="wfQuery_"+ +new Date;r.__t=+new Date,r.callback=o;var a=t.createElement("script");a.src=n+"?"+e.param(r);var s=e(a);e("body").append(s),window[o]=i||function(){},s.on("load",function(){delete window[o],s.remove()})}}),["get","post"].forEach(function(t){e[t]=function(n,r,i,o){return e.isFunction(r)&&(o=o||i,i=r,r=void 0),e.ajax({url:n,type:t,dataType:o,data:r,success:i})}}),e});